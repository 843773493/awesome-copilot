---
agent: 'agent'
tools: ['codebase']
description: '在进行任何更改之前，生成与任务相关的所有文件地图'
---

# 上下文映射

在实施任何更改之前，分析代码库并创建上下文映射。

## 任务

{{task_description}}

## 指示

1. 在代码库中搜索与该任务相关的文件
2. 识别直接依赖项（导入/导出）
3. 查找相关测试
4. 寻找现有代码中的相似模式

## 输出格式

```markdown
## 上下文映射

### 需要修改的文件
| 文件 | 目的 | 需要的更改 |
|------|------|------------|
| path/to/file | 描述 | 需要的更改内容 |

### 依赖项（可能需要更新）
| 文件 | 依赖关系 |
|------|----------|
| path/to/dep | 从修改的文件导入 X |

### 测试文件
| 测试 | 覆盖范围 |
|------|----------|
| path/to/test | 测试受影响的功能 |

### 参考模式
| 文件 | 模式 |
|------|------|
| path/to/similar | 参考示例 |

### 风险评估
- [ ] 对公共API的破坏性更改
- [ ] 需要数据库迁移
- [ ] 需要配置更改
```

在审查完此映射之前，不要进行任何实现工作。



---
description: "生成仓库AGENTS.md文件的提示"
agent: "代理"
---

# 创建高质量的AGENTS.md文件

你是一个代码代理。你的任务是为本仓库创建一个完整、准确的AGENTS.md文件，该文件遵循https://agents.md/的公共指导方针。

AGENTS.md是一种开放格式，旨在为代码代理提供执行项目工作的上下文和指令。

## AGENTS.md是什么？

AGENTS.md是一个Markdown文件，作为“为代理准备的README”——一个专门且可预测的场所，用于提供上下文和指令，帮助AI代码代理在你的项目上工作。它通过包含代码代理需要但可能使面向人类的README变得杂乱的详细技术上下文，来补充README.md。

## 核心原则

- **以代理为中心**：包含自动化工具的详细技术指令
- **补充README.md**：不替代人类文档，而是添加代理特定的上下文
- **标准化位置**：放置在仓库根目录（或单体仓库的子项目根目录）
- **开放格式**：使用标准Markdown格式，结构灵活
- **生态系统兼容性**：适用于20多种不同的AI代码工具和代理

## 文件结构和内容指南

### 1. 必需的设置

- 在仓库根目录创建名为`AGENTS.md`的文件
- 使用标准Markdown格式
- 没有强制字段，结构灵活，根据项目需求定制

### 2. 需要包含的关键部分

#### 项目概述

- 项目简要描述及其用途
- 如果项目复杂，提供架构概述
- 使用的关键技术和框架

#### 设置命令

- 安装依赖项的指令
- 环境设置步骤
- 依赖项管理命令
- 如果适用，数据库设置

#### 开发工作流

- 如何启动开发服务器
- 构建命令
- 监听/热重载设置
- 包管理器的具体信息（npm、pnpm、yarn等）

#### 测试说明

- 如何运行测试（单元测试、集成测试、端到端测试）
- 测试文件的位置和命名规范
- 覆盖率要求
- 使用的特定测试模式或框架
- 如何运行测试子集或专注于特定区域

#### 代码风格指南

- 语言特定的规范
- 代码检查和格式化规则
- 文件组织模式
- 命名规范
- 导入/导出模式

#### 构建和部署

- 构建命令和输出
- 环境配置
- 部署步骤和要求
- CI/CD流水线信息

### 3. 可选但推荐的部分

#### 安全考虑

- 安全测试要求
- 密钥管理
- 认证模式
- 权限模型

#### 多仓库项目说明（如适用）

- 如何处理多个包
- 跨包依赖关系
- 选择性构建/测试
- 包特定命令

#### 拉取请求指南

- 标题格式要求
- 提交前的必要检查
- 审查流程
- 提交信息规范

#### 调试和故障排除

- 常见问题及解决方案
- 日志模式
- 调试配置
- 性能考虑

## 示例模板

将其作为起点模板使用，并根据具体项目进行定制：

```markdown
# AGENTS.md

## 项目概述

[项目简要描述，其用途以及使用的关键技术]

## 设置命令

- 安装依赖项：`[包管理器] install`
- 启动开发服务器：`[命令]`
- 构建生产环境：`[命令]`

## 开发工作流

- [开发服务器启动指令]
- [热重载/监听模式信息]
- [环境变量设置]

## 测试说明

- 运行所有测试：`[命令]`
- 运行单元测试：`[命令]`
- 运行集成测试：`[命令]`
- 测试覆盖率：`[命令]`
- [特定测试模式或要求]

## 代码风格

- [语言和框架规范]
- [代码检查规则和命令]
- [格式化要求]
- [文件组织模式]

## 构建和部署

- [构建过程详情]
- [输出目录]
- [环境特定构建]
- [部署命令]

## 拉取请求指南

- 标题格式：`[项目名称]` 简要描述
- 提交前必须运行：`[代码检查命令]`，`[测试命令]`
- [审查要求]

## 其他说明

- [任何项目特定的上下文]
- [常见问题或故障排除技巧]
- [性能考虑]
```

## 实施步骤

1. **分析项目结构** 以理解以下内容：

   - 使用的编程语言和框架
   - 包管理器和构建工具
   - 测试框架
   - 项目架构（多仓库项目、单个包等）

2. **通过检查以下内容识别关键工作流**：

   - package.json脚本
   - Makefile或其他构建文件
   - CI/CD配置文件
   - 文档文件

3. **创建涵盖以下内容的全面部分**：

   - 所有必需的设置和开发命令
   - 测试策略和命令
   - 代码风格和规范
   - 构建和部署流程

4. **包含具体、可操作的命令**，使代理能够直接执行

5. **测试指令**，确保所有命令按文档说明正常工作

6. **专注于代理需要的信息**，而不是一般性项目信息

## 最佳实践

- **具体明确**：包含精确的命令，而非模糊的描述
- **使用代码块**：用反引号包裹命令以提高清晰度
- **提供上下文**：解释为何需要某些步骤
- **保持更新**：随着项目发展及时更新
- **验证命令**：确保列出的所有命令确实有效
- **考虑嵌套文件**：对于多仓库项目，根据需要在子项目中创建AGENTS.md文件

## 多仓库项目考虑

对于大型多仓库项目：

- 在仓库根目录放置一个主AGENTS.md文件
- 在子项目目录中创建额外的AGENTS.md文件
- 对于任何给定位置，最近的AGENTS.md文件具有优先权
- 包含在不同包/项目之间导航的提示

## 最终说明

- AGENTS.md适用于包括Cursor、Aider、Gemini CLI在内的20多种AI代码工具
- 该格式有意保持灵活，可根据项目需求进行调整
- 专注于帮助代理理解并操作你的代码库的可操作指令
- 这是一份活文档，随着项目发展不断更新

在创建AGENTS.md文件时，应优先考虑清晰性、完整性和可操作性。目标是为任何代码代理提供足够的上下文，使其能够有效贡献于项目，而无需额外的人工指导。
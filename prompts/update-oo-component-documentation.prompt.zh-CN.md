

---
agent: 'agent'
description: '根据行业最佳实践和架构文档标准，更新现有的面向对象组件文档。'
tools: ['变更', '代码库搜索', '编辑/编辑文件', '扩展', '获取', 'GitHub仓库', '打开简单浏览器', '问题', '运行任务', '搜索', '搜索/搜索结果', '运行命令/终端最后命令', '运行命令/终端选择', '测试失败', '用法', 'VSCode API']
---
# 更新标准面向对象组件文档

更新位于 `${file}` 的现有文档文件，通过分析对应的组件代码进行更新。

从现有文档的 front matter（`component_path` 字段）中提取组件路径，或通过文档内容推断路径。分析当前组件的实现代码，并据此更新文档内容。

**文档标准:**

- DOC-001: 遵循 C4 模型文档层级（上下文、容器、组件、代码）
- DOC-002: 与 Arc42 软件架构文档模板保持一致
- DOC-003: 符合 IEEE 1016 软件设计描述标准
- DOC-004: 采用敏捷文档原则（仅提供有价值的内容）
- DOC-005: 主要面向开发人员和维护者

**分析说明:**

- ANA-001: 阅读现有文档以理解组件上下文和结构
- ANA-002: 从 front matter 或内容分析中识别组件路径
- ANA-003: 检查当前源代码文件中的类结构和继承关系
- ANA-004: 比较现有文档与当前实现
- ANA-005: 识别设计模式和架构变更
- ANA-006: 更新公共 API、接口和依赖项
- ANA-007: 识别新的/变更的创建型、结构性和行为型模式
- ANA-008: 更新方法参数、返回值和异常
- ANA-009: 重新评估性能、安全、可靠性、可维护性
- ANA-010: 更新集成模式和数据流

**语言特定优化:**

- LNG-001: **C#/.NET** - 异步/等待、依赖注入、配置、资源释放
- LNG-002: **Java** - Spring 框架、注解、异常处理、打包
- LNG-003: **TypeScript/JavaScript** - 模块、异步模式、类型、npm
- LNG-004: **Python** - 包、虚拟环境、类型提示、测试

**更新策略:**

- UPD-001: 保留现有文档结构和格式
- UPD-002: 更新 `last_updated` 字段为当前日期
- UPD-003: 如果存在版本历史记录，保持其在 front matter 中
- UPD-004: 如果组件功能显著扩展，添加新章节
- UPD-005: 标记已弃用功能或重大变更
- UPD-006: 更新示例以反映当前 API
- UPD-007: 更新依赖项列表及其版本
- UPD-008: 更新 Mermaid 图表以反映当前架构

**错误处理:**

- ERR-001: 文档文件不存在 - 提供文件位置指导
- ERR-002: 组件路径在文档中未找到 - 请求澄清
- ERR-003: 源代码路径已变更 - 建议更新后的路径
- ERR-004: 存在重大架构变更 - 标注破坏性变更
- ERR-005: 无法访问源代码 - 记录限制条件

**输出格式:**

在保持原有 Markdown 文件结构的同时，更新内容以匹配当前实现。保留格式、标题层级和原有的组织决策。

**必需的文档结构:**

按照相同的模板结构更新现有文档，确保所有章节反映当前实现：

```md
---
标题: [组件名称] - 技术文档
组件路径: [当前组件路径]
版本: [如有更新则填写新版本]
日期创建: [原始创建日期 - 保留]
最后更新: [YYYY-MM-DD - 更新为当前日期]
所有者: [保留原有或更新为变更后的内容]
标签: [根据当前功能更新标签]
---

# [组件名称] 文档

[更新引言以反映当前组件的目的和功能]

## 1. 组件概述

### 目的/职责
- OVR-001: 更新组件的主要职责
- OVR-002: 重新梳理功能范围（包含/排除的功能）
- OVR-003: 更新系统上下文和组件关系

## 2. 架构部分

- ARC-001: 更新使用的软件设计模式（如 Repository、Factory、Observer 等）
- ARC-002: 重新整理当前依赖项及其目的
- ARC-003: 更新组件交互和关系
- ARC-004: 更新可视化图表（UML 类图、顺序图、组件图）
- ARC-005: 更新 Mermaid 图表以展示当前组件结构、关系和依赖项

### 组件结构与依赖项图表

更新 Mermaid 图表以展示当前：
- **组件结构** - 当前的类、接口及其关系
- **内部依赖项** - 组件在系统内的交互方式
- **外部依赖项** - 当前的外部库、服务、数据库、API
- **数据流** - 当前依赖项和交互的方向
- **继承/组合关系** - 当前的类层次结构和组合关系

```mermaid
[更新图表以反映当前架构]
```

## 3. 接口文档

- INT-001: 更新所有公共接口和当前使用模式
- INT-002: 重新整理方法/属性参考表以匹配当前 API
- INT-003: 更新事件/回调/通知机制

| 方法/属性 | 目的 | 参数 | 返回类型 | 使用说明 |
|----------|------|------|----------|----------|
| [更新表格以匹配当前 API] | | | | |

## 4. 实现细节

- IMP-001: 更新主要实现类及其当前职责
- IMP-002: 重新整理配置需求和初始化模式
- IMP-003: 更新关键算法和业务逻辑
- IMP-004: 更新性能特征和瓶颈

## 5. 使用示例

### 基础使用

```csharp
// 更新基础使用示例以匹配当前 API
```

### 高级使用

```csharp
// 更新高级配置模式以匹配当前实现
```

- USE-001: 更新基础使用示例
- USE-002: 重新整理高级配置模式
- USE-003: 更新最佳实践和推荐模式

## 6. 质量属性

- QUA-001: 更新安全性（认证、授权、数据保护）
- QUA-002: 重新整理性能（特征、可扩展性、资源使用）
- QUA-003: 更新可靠性（错误处理、容错、恢复）
- QUA-004: 重新整理可维护性（标准、测试、文档）
- QUA-005: 更新可扩展性（扩展点、自定义选项）

## 7. 参考信息

- REF-001: 更新依赖项及其当前版本和目的
- REF-002: 重新整理配置选项参考
- REF-003: 更新测试指南和模拟设置
- REF-004: 重新整理故障排除（常见问题、错误信息）
- REF-005: 更新相关文档链接
- REF-006: 添加本次更新的变更历史和迁移说明
```
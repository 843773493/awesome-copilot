

---
agent: 'agent'
description: '更新现有的实现计划文件，以包含新的或更新的要求，用于提供新功能、重构现有代码或升级包，设计、架构或基础设施。'
tools: ['变更', '代码库搜索', '编辑/编辑文件', '扩展', '获取', 'github仓库', '打开简单浏览器', '问题', '运行任务', '搜索', '搜索/搜索结果', '运行命令/终端最后命令', '运行命令/终端选择', '测试失败', '用法', 'vscodeAPI']
---
# 实现计划更新

## 主要指令

你是一个AI代理，负责根据新的或更新的要求更新实现计划文件 `${file}`。你的输出必须是机器可读的、确定性的，并且结构化以便其他AI系统或人类自主执行。

## 执行环境

此提示旨在用于AI到AI的通信和自动化处理。所有指令必须被字面解释并系统性执行，而不允许人类进行解释或澄清。

## 核心要求

- 生成可由AI代理或人类执行的完整实现计划
- 使用无歧义的语言，无需任何解释
- 将所有内容结构化以便自动化解析和执行
- 确保完全自包含，无需外部依赖来理解

## 计划结构要求

计划必须由可执行的离散、原子阶段组成。每个阶段必须能够被AI代理或人类独立处理，除非明确声明否则不允许跨阶段依赖。

## 阶段架构

- 每个阶段必须具有可衡量的完成标准
- 阶段内的任务必须可并行执行，除非指定了依赖关系
- 所有任务描述必须包含特定的文件路径、函数名和确切的实现细节
- 任何任务都不应需要人类解释或决策

## AI优化的实现标准

- 使用明确、无歧义的语言，无需任何解释
- 将所有内容结构化为机器可解析的格式（表格、列表、结构化数据）
- 在适用时包含特定的文件路径、行号和确切的代码引用
- 明确定义所有变量、常量和配置值
- 在每个任务描述中提供完整的上下文
- 为所有标识符使用标准化前缀（如 REQ-、TASK- 等）
- 包含可自动验证的验证标准

## 输出文件规范

- 将实现计划文件保存在 `/plan/` 目录中
- 使用命名规范：`[目的]-[组件]-[版本].md`
- 目的前缀：`升级|重构|功能|数据|基础设施|流程|架构|设计`
- 示例：`upgrade-system-command-4.md`，`feature-auth-module-1.md`
- 文件必须为有效的Markdown格式，并具有正确的前言结构

## 必须的模板结构

所有实现计划必须严格遵循以下模板。每个部分都是必需的，并且必须填充具体、可操作的内容。AI代理必须在执行前验证模板合规性。

## 模板验证规则

- 所有前言字段必须存在且格式正确
- 所有章节标题必须与原格式完全匹配（区分大小写）
- 所有标识符前缀必须遵循指定格式
- 表格必须包含所有必需的列
- 最终输出中不得有任何占位符文本

## 状态

实现计划的状态必须在前言中明确定义，并反映计划的当前状态。状态可以是以下之一（状态颜色在括号中）：`已完成`（亮绿色徽章）、`进行中`（黄色徽章）、`计划中`（蓝色徽章）、`已弃用`（红色徽章）或 `暂停`（橙色徽章）。它还应在简介部分以徽章形式显示。

```md
---
目标: [简洁的标题，描述包实现计划的目标]
版本: [可选：例如 1.0，日期]
创建日期: [YYYY-MM-DD]
最后更新: [可选：YYYY-MM-DD]
负责人: [可选：负责此规范的团队或个人]
状态: '已完成'|'进行中'|'计划中'|'已弃用'|'暂停'
标签: [可选：相关标签或类别的列表，例如 `功能`, `升级`, `琐事`, `架构`, `迁移`, `错误` 等]
---

# 简介

![状态: <状态>](https://img.shields.io/badge/status-<状态>-<状态颜色>)

[对计划和其旨在实现的目标的简要概述。]

## 1. 需求与约束

[明确列出影响计划和限制其实施方式的所有需求和约束。使用项目符号或表格以提高清晰度。]

- **需求-001**: 需求 1
- **安全需求-001**: 安全需求 1
- **[3字母]-001**: 其他需求 1
- **约束-001**: 约束 1
- **指南-001**: 指南 1
- **模式-001**: 需遵循的模式 1

## 2. 实施步骤

### 实施阶段 1

- **目标-001**: [描述该阶段的目标，例如 "实现功能 X"，"重构模块 Y" 等。]

| 任务 | 描述 | 已完成 | 日期 |
|------|-------------|-----------|------|
| 任务-001 | 任务 1 的描述 | ✅ | 2025-04-25 |
| 任务-002 | 任务 2 的描述 | |  |
| 任务-003 | 任务 3 的描述 | |  |

### 实施阶段 2

- **目标-002**: [描述该阶段的目标，例如 "实现功能 X"，"重构模块 Y" 等。]

| 任务 | 描述 | 已完成 | 日期 |
|------|-------------|-----------|------|
| 任务-004 | 任务 4 的描述 | |  |
| 任务-005 | 任务 5 的描述 | |  |
| 任务-006 | 任务 6 的描述 | |  |

## 3. 替代方案

[列出任何被考虑的替代方法及其未被选择的原因。这有助于提供所选方法的背景和理由。]

- **替代方案-001**: 替代方案 1
- **替代方案-002**: 替代方案 2

## 4. 依赖项

[列出任何需要解决的依赖项，例如库、框架或其他组件。]

- **依赖项-001**: 依赖项 1
- **依赖项-002**: 依赖项 2

## 5. 文件

[列出将受功能或重构任务影响的文件。]

- **文件-001**: 文件 1 的描述
- **文件-002**: 文件 2 的描述

## 6. 测试

[列出需要实现的测试，以验证功能或重构任务。]

- **测试-001**: 测试 1 的描述
- **测试-002**: 测试 2 的描述

## 7. 风险与假设

[列出与计划实施相关的任何风险或假设。]

- **风险-001**: 风险 1
- **假设-001**: 假设 1

## 8. 相关规范 / 进一步阅读

[链接到相关规范 1]
[链接到相关外部文档]


# 结构化自主性

使用 GitHub Copilot 进行自主项目规划与实施的提示，通过结构化规划和代码生成实现协作开发工作流。

**标签:** github-copilot, 自主工作流, 项目规划, 代码生成, 结构化自主性

## 本集合中的项目

| 标题 | 类型 | 描述 | MCP 服务器 |
| ----- | ---- | ----------- | ----------- |
| [结构化自主性计划](../prompts/structured-autonomy-plan.prompt.md)<br />[![在 VS Code 中安装](https://img.shields.io/badge/VS_Code-Install-0098FF?style=flat-square&logo=visualstudiocode&logoColor=white)](https://aka.ms/awesome-copilot/install/prompt?url=vscode%3Achat-prompt%2Finstall%3Furl%3Dhttps%3A%2F%2Fraw.githubusercontent.com%2Fgithub%2Fawesome-copilot%2Fmain%2Fprompts%2Fstructured-autonomy-plan.prompt.md)<br />[![在 VS Code Insiders 中安装](https://img.shields.io/badge/VS_Code_Insiders-Install-24bfa5?style=flat-square&logo=visualstudiocode&logoColor=white)](https://aka.ms/awesome-copilot/install/prompt?url=vscode-insiders%3Achat-prompt%2Finstall%3Furl%3Dhttps%3A%2F%2Fraw.githubusercontent.com%2Fgithub%2Fawesome-copilot%2Fmain%2Fprompts%2Fstructured-autonomy-plan.prompt.md) | 提示 | 基于研究的规划代理，将功能请求分解为可测试的实现步骤，并具有清晰的提交边界以供拉取请求。 | [context7](https://github.com/upstash/context7)<br />[![安装 MCP](https://img.shields.io/badge/Install-VS_Code-0098FF?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-vscode?name=context7&config=%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D)<br />[![安装 MCP](https://img.shields.io/badge/Install-VS_Code_Insiders-24bfa5?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-vscodeinsiders?name=context7&config=%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D)<br />[![安装 MCP](https://img.shields.io/badge/Install-Visual_Studio-C16FDE?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-visualstudio/mcp-install?%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D |
| [结构化自主性生成](../prompts/structured-autonomy-generate.prompt.md)<br />[![在 VS Code 中安装](https://img.shields.io/badge/VS_Code-Install-0098FF?style=flat-square&logo=visualstudiocode&logoColor=white)](https://aka.ms/awesome-copilot/install/prompt?url=vscode%3Achat-prompt%2Finstall%3Furl%3Dhttps%3A%2F%2Fraw.githubusercontent.com%2Fgithub%2Fawesome-copilot%2Fmain%2Fprompts%2Fstructured-autonomy-generate.prompt.md)<br />[![在 VS Code Insiders 中安装](https://img.shields.io/badge/VS_Code_Insiders-Install-24bfa5?style=flat-square&logo=visualstudiocode&logoColor=white)](https://aka.ms/awesome-copilot/install/prompt?url=vscode-insiders%3Achat-prompt%2Finstall%3Furl%3Dhttps%3A%2F%2Fraw.githubusercontent.com%2Fgithub%2Fawesome-copilot%2Fmain%2Fprompts%2Fstructured-autonomy-generate.prompt.md) | 提示 | 代码生成器，将结构化计划转换为可直接复制粘贴的实现指令，包含完整的代码块和分步说明。无占位符，无 TODO——仅基于您实际代码库模式的可运行代码。输出: `plans/{feature-name}/implementation.md` | [context7](https://github.com/upstash/context7)<br />[![安装 MCP](https://img.shields.io/badge/Install-VS_Code-0098FF?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-vscode?name=context7&config=%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D)<br />[![安装 MCP](https://img.shields.io/badge/Install-VS_Code_Insiders-24bfa5?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-vscodeinsiders?name=context7&config=%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D)<br />[![安装 MCP](https://img.shields.io/badge/Install-Visual_Studio-C16FDE?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-visualstudio/mcp-install?%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D |
| [结构化自主性实施](../prompts/structured-autonomy-implement.prompt.md)<br />[![在 VS Code 中安装](https://img.shields.io/badge/VS_Code-Install-0098FF?style=flat-square&logo=visualstudiocode&logoColor=white)](https://aka.ms/awesome-copilot/install/prompt?url=vscode%3Achat-prompt%2Finstall%3Furl%3Dhttps%3A%2F%2Fraw.githubusercontent.com%2Fgithub%2Fawesome-copilot%2Fmain%2Fprompts%2Fstructured-autonomy-implement.prompt.md)<br />[![在 VS Code Insiders 中安装](https://img.shields.io/baseline/VS_Code_Insiders-Install-24bfa5?style=flat-square&logo=visualstudiocode&logoColor=white)](https://aka.ms/awesome-copilot/install/prompt?url=vscode-insiders%3Achat-prompt%2Finstall%3Furl%3Dhttps%3A%2F%2Fraw.githubusercontent.com%2Fgithub%2Fawesome-copilot%2Fmain%2Fprompts%2Fstructured-autonomy-implement.prompt.md) | 提示 | 实施代理，按生成的指令逐步执行，完成步骤时进行验证，并在定义的提交边界处停止以供您验证和提交。 | [context7](https://github.com/upstash/context7)<br />[![安装 MCP](https://img.shields.io/baseline/Install-VS_Code-0098FF?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-vscode?name=context7&config=%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D)<br />[![安装 MCP](https://img.shields.io/baseline/Install-VS_Code_Insiders-24bfa5?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-vscodeinsiders?name=context7&config=%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D)<br />[![安装 MCP](https://img.shields.io/baseline/Install-Visual_Studio-C16FDE?style=flat-square)](https://aka.ms/awesome-copilot/install/mcp-visualstudio/mcp-install?%7B%22command%22%3A%22npx%22%2C%22args%22%3A%5B%22-y%22%2C%22--package%22%2C%22%2540upstash%252Fcontext7%22%2C%22--%22%2C%22mcp%22%5D%2C%22env%22%3A%7B%7D%7D) |

---

## 工作原理

结构化自主性是一种三阶段工作流，旨在最大限度地提高 AI 辅助开发的价值，同时降低高级请求的使用量。该系统遵循一个简单原则：**使用高级模型（如 Claude Opus、GPT-5.1-Codex）进行规划，使用低成本模型进行实际编码。**

### 工作流

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│    sa-plan      │ ──▶ │   sa-generate   │ ──▶ │   sa-implement  │
│  (1 次请求)    │     │   (1 次请求)   │     │  (多次请求)│
│  高级模型      │     │  高级模型      │     │   低成本模型   │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

**第一阶段：规划** — 您描述想要构建的功能。规划代理会研究您的代码库，阅读文档，并将您的功能分解为逻辑提交步骤。输出: `plans/{feature-name}/plan.md`

```
/plan 在此应用程序中添加一个用户资料页面，允许用户查看和编辑其资料信息。
```

**第二阶段：生成** — 生成器根据您的计划生成完整的、可直接复制粘贴的实现指令，包含完整的代码块。无占位符，无 TODO——仅基于您实际代码库模式的可运行代码。输出: `plans/{feature-name}/implementation.md`

```
/generate #plan.md
```

**第三阶段：实施** — 实施代理按照生成的指令逐步执行，完成步骤时进行验证，并在定义的提交边界处停止以供您验证和提交。

```
/implement #implementation.md
```

实施会在完成一次提交后停止，让您验证更改后再继续。它会自动从下一步继续执行。

### 一个分支，一个 PR

每个工作流都在一个功能分支上运行，针对一个拉取请求。实施步骤直接映射到提交，为您提供：

- **清晰的 Git 历史记录**，包含逻辑且可审查的提交
- **自然的检查点**，在继续之前验证代码是否正常工作
- **轻松回滚**，如果出现问题，只需重置到最后一个成功的提交即可

### 为何此方法有效

**成本效益** — 高级模型（如 Claude Opus、GPT-5.1-Codex）价格昂贵但擅长推理和规划。您仅使用它们两次：一次用于理解请求，一次用于生成实现。实际编码工作则使用免费模型，可进行任意次数的迭代。

**更高的代码质量** — 由于规划阶段首先研究您的代码库，生成的代码会遵循您的现有模式、命名规范和架构。您无需与不符合项目需求的 AI 建议作斗争。

**开发者参与度** — 通过手动提交点的逐步实施，您始终掌握进度。您在每一步审查和测试实际更改，而非在最后面对巨大的差异而不知所措。

**熟悉的流程** — 这不是一种全新的工作方式，而是您现有的 Git 流程，加入了 AI 辅助。功能分支、增量提交、PR 审核。AI 处理繁琐部分，而您则掌控整个流程。
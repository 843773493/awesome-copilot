# AS6C62256（32K x 8 SRAM）仿真规范

适用于**6502系列模拟器、单板计算机（SBC）模拟器和内存子系统建模**的**AS6C62256 / 62256系列静态RAM**的技术Markdown仿真规范。

---

## 1. 范围

本文件规定了以下设备的仿真功能行为：

* Alliance Memory **AS6C62256**
* 兼容 **62256（32K x 8）SRAM** 设备

**不包含以下内容：**
* 模拟电气时序裕量
* 总线竞争和信号上升/下降时间
* 功耗特性

---

## 2. 芯片概述

### 核心特性

| 特性         | 值                     |
|--------------|------------------------|
| 存储器类型   | 静态随机存取存储器（SRAM） |
| 容量         | 32,768字节（32 KB）     |
| 数据宽度     | 8位                    |
| 地址宽度     | 15位（A0-A14）          |
| 访问类型     | 异步访问               |
| 供电电压     | 5 V（典型值）           |

---

## 3. 外部信号（逻辑模型）

| 信号 | 方向 | 功能                   |
|------|------|------------------------|
| A0-A14 | 输入 | 地址总线               |
| D0-D7  | 输入/输出 | 数据总线               |
| CE#   | 输入 | 芯片使能（低电平有效）  |
| OE#   | 输入 | 输出使能（低电平有效）  |
| WE#   | 输入 | 写使能（低电平有效）    |

> `#` 表示低电平有效信号。

---

## 4. 地址空间映射

* 地址范围：`0x0000-0x7FFF`
* 地址线选择每个地址对应一个字节

### 典型6502系统地址映射示例

| CPU地址范围 | 设备             |
|-------------|------------------|
| `$0000-$7FFF` | AS6C62256 SRAM   |
| `$8000-$FFFF` | ROM / EEPROM     |

---

## 5. 读写行为

### 读取周期（逻辑）

**条件：**
* `CE# = 0`
* `OE# = 0`
* `WE# = 1`

**行为：**
```text
D[7:0]  memory[A]
```

如果 `OE# = 1` 或 `CE# = 1`，数据总线将处于**高阻抗**状态。

---

### 写入周期（逻辑）

**条件：**
* `CE# = 0`
* `WE# = 0`

**行为：**
```text
memory[A]  D[7:0]
```

* 写入时忽略 `OE#`
* 写入发生在 `WE#` 有效时

---

## 6. 控制信号优先级

| CE# | WE# | OE# | 结果               |
|-----|-----|-----|--------------------|
| 1   | X   | X   | 禁用（高阻抗）     |
| 0   | 0   | X   | 写入               |
| 0   | 1   | 0   | 读取               |
| 0   | 1   | 1   | 高阻抗             |

---

## 7. 模拟器接口要求

模拟器必须提供以下接口：

```text
read(address)  -> byte
write(address, byte)
```

内部存储：

```text
uint8_t ram[32768]
```

地址掩码：

```text
address = address & 0x7FFF
```

---

## 8. 时序模型（抽象化）

### 仿真级别

| 级别           | 描述                   |
|----------------|------------------------|
| 功能级         | 实时访问               |
| 周期级         | 每个CPU周期进行访问     |
| 精确周期级     | 遵循使能信号转换        |

对于大多数系统，**功能级仿真**已足够。

---

## 9. 电源与数据保持

* 只要供电，SRAM内容将保持不变
* 模拟器应在显式复位前保留内容

### 复位行为

* **复位时无自动清除**
* 除非初始化，否则内存内容未定义

---

## 10. 总线竞争与高阻抗建模（可选）

可选的高级行为：

* 跟踪SRAM何时驱动数据总线
* 检测非法同时写入

大多数模拟器可能忽略高阻抗状态。

---

## 11. 错误条件

| 条件               | 模拟器响应                   |
|--------------------|----------------------------|
| 超出范围的地址     | 掩码或忽略                  |
| 在禁用状态下读取   | 返回最后的总线值或0xFF       |
| 在禁用状态下写入   | 忽略写入操作                 |

---

## 12. 与6502模拟器的集成

```text
CPU内存访问
  地址解码
  如果在SRAM范围内:
      AS6C62256.read/write
```

* SRAM访问通常是单周期
* 不需要等待状态

---

## 13. 测试与验证

### 基本测试

* 写入/读取模式
* 边界地址（$0000, $7FFF）
* 随机内存测试

### 验证检查清单

* 写入内容保持不变
* 读取返回正确值
* 地址环绕正确

---

## 14. 常见错误

| 错误               | 结果                        |
|--------------------|-----------------------------|
| 复位时清除RAM      | 破坏软件假设                 |
| 错误的地址掩码      | 镜像内存错误                 |
| 将其视为ROM         | 忽略写入操作                 |

---

## 15. 参考链接

* [Alliance Memory AS6C62256 数据手册](https://www.alliancememory.com/wp-content/uploads/AS6C62256-23-March-2016-rev1.2.pdf)
* [https://en.wikipedia.org/wiki/Static_random-access_memory](https://en.wikipedia.org/wiki/Static_random-access_memory)

---

**文档范围：** AS6C62256 SRAM的软件仿真  
**受众：** 模拟器开发人员、复古单板计算机设计者  
**状态：** 稳定的技术参考
